{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/fabri/Desktop/gh-pages/music_page/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/fabri/Desktop/gh-pages/music_page/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/fabri/Desktop/gh-pages/music_page/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import classes from'./SongComp.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterForm=function RegisterForm(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),pass=_React$useState4[0],setPass=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),touched=_React$useState6[0],setTouched=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),touchedp=_React$useState8[0],setTouchedp=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),hasError=_React$useState10[0],setHasError=_React$useState10[1];var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setTouched(true);e.preventDefault();if(!(namevalid&&passvalid)){_context.next=5;break;}_context.next=5;return fetch('https://react-http-467cc-default-rtdb.firebaseio.com/users.json').then(function(response){return response.json();}).then(function(response){var found=false;for(var key in response){if(response[key].Name===name){if(response[key].Password!==pass){setHasError(true);return null;}else{props.submitionHandler(name,pass,true);found=true;}}}if(!hasError&&found===false){props.submitionHandler(name,pass,false);}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();var setNameHandler=function setNameHandler(e){setName(e.target.value.trim());};var setPassHandler=function setPassHandler(e){setPass(e.target.value.trim());};var blurNameHandler=function blurNameHandler(){setTouched(true);};var blurPassHandler=function blurPassHandler(){setTouchedp(true);};var namevalid=name.length>3;var passvalid=pass.length>3;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,className:classes.myform,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onBlur:blurNameHandler,onChange:setNameHandler,value:name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onBlur:blurPassHandler,onChange:setPassHandler,value:pass})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),!namevalid&&touched&&/*#__PURE__*/_jsx(\"p\",{children:\"Invalid username!\"}),!passvalid&&namevalid&&touchedp&&/*#__PURE__*/_jsx(\"p\",{children:\"Invalid password!\"}),hasError&&/*#__PURE__*/_jsx(\"p\",{children:\"User already in use || incorrect password!\"})]});};export default RegisterForm;","map":{"version":3,"names":["React","classes","RegisterForm","props","useState","name","setName","pass","setPass","touched","setTouched","touchedp","setTouchedp","hasError","setHasError","submitHandler","e","preventDefault","namevalid","passvalid","fetch","then","response","json","found","key","Name","Password","submitionHandler","setNameHandler","target","value","trim","setPassHandler","blurNameHandler","blurPassHandler","length","myform"],"sources":["C:/Users/fabri/Desktop/gh-pages/music_page/src/components/RegisterForm.js"],"sourcesContent":["import React from 'react';\r\nimport classes from './SongComp.module.css';\r\n\r\nconst RegisterForm = (props) => {\r\n    const [name, setName] = React.useState('');\r\n    const [pass, setPass] = React.useState('');\r\n    const [touched, setTouched] = React.useState(false);\r\n    const [touchedp, setTouchedp] = React.useState(false);\r\n    const [hasError, setHasError] = React.useState(false);\r\n\r\n    const submitHandler = async function (e) {\r\n        setTouched(true);\r\n        e.preventDefault();\r\n        if (namevalid && passvalid) {\r\n            await fetch(\r\n                'https://react-http-467cc-default-rtdb.firebaseio.com/users.json'\r\n            )\r\n                .then((response) => response.json())\r\n                .then((response) => {\r\n                    let found = false;\r\n                    for (const key in response) {\r\n                        if (response[key].Name === name) {\r\n                            if (response[key].Password !== pass) {\r\n                                setHasError(true);\r\n                                return null;\r\n                            } else {\r\n                                props.submitionHandler(name, pass, true);\r\n                                found = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!hasError && found === false) {\r\n                        props.submitionHandler(name, pass, false);\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n    const setNameHandler = (e) => {\r\n        setName(e.target.value.trim());\r\n    };\r\n    const setPassHandler = (e) => {\r\n        setPass(e.target.value.trim());\r\n    };\r\n    const blurNameHandler = () => {\r\n        setTouched(true);\r\n    };\r\n    const blurPassHandler = () => {\r\n        setTouchedp(true);\r\n    };\r\n    const namevalid = name.length > 3;\r\n    const passvalid = pass.length > 3;\r\n\r\n    return (\r\n        <form onSubmit={submitHandler} className={classes.myform}>\r\n            <div>\r\n                <label>Username:</label>\r\n                <input\r\n                    type='text'\r\n                    onBlur={blurNameHandler}\r\n                    onChange={setNameHandler}\r\n                    value={name}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label>Password:</label>\r\n                <input\r\n                    type='password'\r\n                    onBlur={blurPassHandler}\r\n                    onChange={setPassHandler}\r\n                    value={pass}\r\n                />\r\n            </div>\r\n            <button type='submit'>Register</button>\r\n            {!namevalid && touched && <p>Invalid username!</p>}\r\n            {!passvalid && namevalid && touchedp && <p>Invalid password!</p>}\r\n            {hasError && <p>User already in use || incorrect password!</p>}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default RegisterForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}